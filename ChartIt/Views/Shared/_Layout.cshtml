<!DOCTYPE html>
<html  class="has-navbar-fixed-top night"  ng-app="cryptobuddy" ng-controller="mainCtrl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#111111">
    <title>@ViewBag.Title - cryptobuddy - </title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="~/Content/NgAnimate.css">
    <link rel="stylesheet" href="~/Content/stockCharts.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" />
    <link rel="stylesheet" href="/Scripts/jquery.qtip-2.0.1.css" />
    <link rel="stylesheet" href="/Content/circle.css"/>

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body class="site">
    <div class="coin-loader" ng-show="!state.isLoaded"></div>
    <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
        <div class="container">
            <div class="navbar-brand">

                <a class="navbar-item logo" href="/">
                    <img src="/img/cb-logo.png" alt="" width="205" height="60">
                </a>

            </div>
            <div class="navbar-brand global-stats">
                <span class="navbar-item global-stat">
                    Market Cap: {{ global.MarketCapUsd | currency}}
                </span>
                <span class="navbar-item global-stat">
                    Volume: {{ global.Volume24hUsd | currency}}
                </span>
                <span class="navbar-item global-stat">
                    Currencies: {{ global.ActiveCurrencies }}
                </span>
                <span class="navbar-item global-stat">
                    Markets: {{ global.ActiveMarkets }}
                </span>
            </div>
        </div>
    </nav>
    <div class="container site-content">
        @RenderBody()
        <div class="slide-top" ng-view></div>

    </div>
    <footer>
        <div class="container">
            <p>&copy; @DateTime.Now.Year CryptoBuddy</p>
        </div>

    </footer>
    @Scripts.Render("~/bundles/jquery")
    @RenderSection("scripts", required: false)
    <script src="~/Scripts/amcharts.js"></script>
    <script src="~/Scripts/serial.js"></script>
    <script src="~/Scripts/amstock.js"></script>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.8/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.8/angular-route.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.8/angular-animate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-touch/1.6.8/angular-touch.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.6/nv.d3.js"></script>
    <script src="~/Scripts/angular-nvd3.js"></script>
    <script src="~/Scripts/angular-stockchart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap-tpls.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.6/nv.d3.css" />
    <script src="~/Scripts/angular-tablesort.js"></script>





    <script>
        var PHP_location = "http://" + window.location.hostname + "/api/getsentiment";
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/scripts/jquery.qtip-2.0.1.js"></script>
    <script type="text/javascript" src="/scripts/moment.min.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/global-var.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/anew.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/anew_ex.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/anew_neg.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/colour.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/info_dlg.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/draw.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/dup.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/happiness.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/sentiment-main.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/neg.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/porter.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/pos_trim.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/query.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/sentiment-graph.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/tfidf.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/topic.js"></script>
    <script type="text/javascript" src="/scripts/canvas-js/uniq.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-sanitize/1.6.9/angular-sanitize.min.js"></script>

    <script>



        var cb = angular.module('cryptobuddy', ['ngRoute', 'ngTouch', 'ngAnimate', 'ngSanitize', 'tableSort', 'nvd3', 'amCharts', 'ui.bootstrap']).run(function ($rootScope) {

            $rootScope.Utils = {
                keys: Object.keys
            }


        })
            .config(['tableSortConfigProvider', function (tableSortConfigProvider) {
                 /* Template Tokens - all are replaced by Angular expressions
             * TOTAL_COUNT         - The number for the total count of items in the table
             * FILTERED_COUNT      - The number for the total count of items in the table after the filter has been applied
             * FILTER_STRING       - The string used for the `ng-model` of the text filter
             * PER_PAGE_OPTIONS    - The array of numbers for the verious page size options
             * ITEMS_PER_PAGE      - The number for the selected number of items to display per page (the selected item from PER_PAGE_OPTIONS)
             * CURRENT_PAGE_NUMBER - The number for the page that is currently being viewed
             * CURRENT_PAGE_RANGE  - The number for the current viewable range of pages
             * ITEM_NAME_SINGULAR  - The singular version of the name of the items being iterated over
             * ITEM_NAME_PLURAL    - The plural version of the name of the items being iterated over
             */
                var filterString =  " <div class='filtering fa fa-search search-wrapper'>" +
                                        "<input type='text' placeholder='filter {{ITEM_NAME_PLURAL}}' ng-model='customFilters.name' />"+
                                     "</div>"
                tableSortConfigProvider.perPageOptions = [20, 50, 100]
                tableSortConfigProvider.perPageDefault = 20

                //tableSortConfigProvider.filterTemplate = filterString;
                var pagerString = "<div class='table-footer'>" +


                                    "<div class='form-group table-per-page' style='display:block; float:left'>" +
                                        "<select class='form-control' ng-model='ITEMS_PER_PAGE' ng-options='opt as (opt + \" per page\") for opt in PER_PAGE_OPTIONS'></select>" +
                                    "</div>" +
                                    "<small class='text-muted'>Showing {{CURRENT_PAGE_RANGE}} {{FILTERED_COUNT === 0 ? '' : 'of'}} " +
                                    "<span ng-if='FILTERED_COUNT === TOTAL_COUNT'>{{TOTAL_COUNT  | number}} {{TOTAL_COUNT  === 1 ? ITEM_NAME_SINGULAR : ITEM_NAME_PLURAL}}</span>" +
                                    "<span ng-if='FILTERED_COUNT !==  TOTAL_COUNT'>{{FILTERED_COUNT | number}} {{FILTERED_COUNT === 1 ? ITEM_NAME_SINGULAR : ITEM_NAME_PLURAL}} (filtered from {{TOTAL_COUNT  | number}})</span>" +
                                    "</small> " +
                                    "<nav class='pagination' role='navigation' aria-label='pagination'>" +
                                    "<ul class='pagination-list' uib-pagination style='vertical-align:middle;' ng-if='ITEMS_PER_PAGE <  TOTAL_COUNT' ng-model='CURRENT_PAGE_NUMBER' total-items='FILTERED_COUNT' boundary-links='true' items-per-page='ITEMS_PER_PAGE' max-size='4' force-ellipses='true'></ul>" +
                                    "</nav>" +
                                "</div>";
            tableSortConfigProvider.paginationTemplate = pagerString;
            }]);



        cb.constant("fieldLabels", {
            "Machine name": "What we want to know →",
            assignee: "Who is working on this? ↓",
            priority: "Priority",
            publishable: "Ready for publishing?",
            current_status: "Status",
            research_update_date: "Research update date",
            symbol: "Symbol",
            website_url: "Main website",
            website2_url: "IF any secondary website mention here",
            blog_url: "Do they have a blog, if yes, enter the url",
            posting_frequently: "Are they posting something every 10 days or less on their blog?",
            faq_url: "FAQ page",
            message_board_1_url: "Message board 1",
            message_board_2_url: "Message board 2",
            message_board_3_url: "Message board 3",
            bitcointalk_url: "Bitcointalk.org discussions",
            chain_exp_1_url: "Explorer 1",
            chain_exp_2_url: "Explorer 2 if any",
            chain_exp_3_url: "Explorer 3 if any",
            logo_filename: "Logo (minimum 300px wide)",
            whitepaper_url: "Whitepaper",
            contact_email: "Email",
            contact_form_url: "Contact form on website",
            phone_num: "Phonenumber",
            description_short: "Description",
            "abstract": "Abstract",
            facebook_url: "Facebook",
            twitter_url: "Twitter",
            youtube_url: "Youtube",
            slack_url: "Slack",
            telegram_url: "Telegram",
            icq_handle: "ICQ",
            google_plus_url: "Google+",
            other_social_url: "Other",
            social_freq_facebook: "Do they post something on their facebook every 3 days or less?",
            social_freq_twitter: "Do they post something on their Twitter every 3 days or less?",
            social_freq_youtube: "Do they post something on their Youtube every 7 days or less?",
            open_source_bool: "Yes or No",
            github_url: "Github link",
            incorporated_bool: "Incorporated according to their website: Yes or No",
            incorporation_proof_url: "Incorporation proof",
            incorporated_officially_bool: "Officially Incorporated: Yes or No or Can't trace back",
            incorporatation_number: "Incorporation number",
            incorporation_country: "Where (country)",
            incorporation_address: "Address",
            whois_name: "Name",
            whois_org: "Organisation",
            whois_reg_date: "Registration Date",
            members_listed_by_name_bool: "Are team/foundation members nominally listed on the page?(by name)",
            team_has_social_profiles_bool: "Do most of the teammembers on the team page have links to social media profiles (Facebook, linkedin, github)",
            team_has_bios_bool: "Biography on website for each team member - yes/no",
            team_page_url: "Link to the team page",
            team_dev_size: "How many developers?",
            team_mkt_sales_size: "How many marketing / sales specialists?",
            team_size_total: "How many teammembers in total?",
            team_age_avg: "Average teamembers age",
            team_qa_size: "Does the company have any testers / quality asurance specialists on the team? (these people are dedicated to testing only)",
            ceo_name: "CEO Name/Executive leader",
            ceo_linkedin_url: "CEO LinkedIN link",
            ceo_linkedin_position: "Is it mentioned that this CEO works for this company on his LinkedIn profile?",
            ceo_prior_engagements: "CEO previous companies / achievements",
            ceo_million_dollar_prior_engagement: "Managed a million+ USD$ company before?",
            ceo_yrs_business_experience: "Years of business experience",
            ceo_years_c_level_experience: "Years of experience as a CEO (OR COO)",
            cto_name: "CTO/Technical lead Name",
            cto_linkedin_url: "CTO LinkedIN link",
            cto_github_url: "CTO Github link",
            cto_github_engagement: "Can you see that this CTO works on this project on his Github profile?",
            cto_million_dollar_prior_engagement: "Worked on a million dollar+ project (within 1 or more of his/her previous companies before?",
            cto_prior_engagements: "CTO previous companies / achievements",
            cto_years_experience_development: "Years of exeperience as a developer?",
            cto_years_cto_experience: "Years of experience as a CTO?",
            team_has_advisors_social_profiles_bool: "Do most of the Advisory board members on the team page have links to social media profiles (Facebook, linkedin, github,Twitter other social media)",
            team_has_advisors_bios_bool: "Biography on website for each board member - yes/no",
            multiple_advisors_managed_multimillion_dollar_engagements: "2 or more advisors of the team managed multimillon dollar projects or companies",
            advisory_board_special_achievements: "Note special achievements from the advisory board. ",
            company_publishes_financial_statements: "Does the company present its complete financial statements (anywhere)?",
            company_publishes_financial_statements_source: "Source of information",
            company_burn_rate: "Does the company give insights in its costs? How much it will spend a month (also known as the burnrate)?",
            company_burn_rate_source: "Source of information",
            company_gains_predictions: "Does the company give it's financial/growth predictions / predictions for profit and growth?",
            company_gains_predictions_source: "Source of information",
            company_explains_advantage_over_competition: "Does the company explain its benefits opposed to their competitors (if any)?",
            company_explains_advantage_over_competition_source: "Source of information",
            company_explains_strategic_partnerships: "Does the company list its strategic partner(ships)?",
            company_presents_sales_mkt_plan: "Does the company present it's sales plan / marketing plan / go to market strategy in any way?",
            company_presents_sales_mkt_plan_source: "Source of information",
            community_size: "How many people are involved in the community of this project",
            product_status: "Does this coin / business have a working project?",
            product_release_date: "Release date of first version of the product",
            product_roadmap_url: "Product Roadmap",
            roadmap_updated: "Is product roadmap updated to date?",
            token_supply: "What is the total token supply?",
            tokens_distributed: "Number of tokens Distributed in ICO?",
            token_emission_rate: "Emission rate",
            blockchain: "Blockchain",
            consensus_method: "Consensus method",
            block_processing_speed: "Time for block processing",
            transactions_per_second: "Transactions per second",
            ico_proceeds_founders_team: "Founders & Team",
            ico_proceeds_mkt_sales: "Marketing & Sales",
            ico_proceeds_development: "Development",
            ico_proceeds_adm_legal: "Administration/Legal",
            ico_proceeds_other: "Other",
            ico_sale_period_start: "ICO Sale period start date(/time)",
            ico_sale_period_end: "ICO Sale period end date(/time)",
            ico_initial_price: "ICO token price",
            ico_accepted_currencies: "Currency accepted during ICO",
            ico_investment_round: "Investment Round",
            ico_token_distribution_date: "Token distribution date",
            ico_token_trading_start_date: "Token start trading date",
            ico_min_investment_goal: "Min investment goal",
            ico_max_investment_cap: "Max investment cap",
            ico_bonus: "Bonus",
            ico_jurisdiction: "ICO jurisdiction",
            ico_legal_advisers: "ICO legal advisers ",
            ico_legal_form: "ICO legal form",
            ico_security: "ICO security audit company",
            alexa_url: "Main website",
            alexa_url_2: "Secondary website (if any)",
            reddit_url: "Reddit discussions",
            governance: "Governance",
            video_what_is_it: "Video: What is the Crypto?",
            goal_clarity: "Clear what they do",
            categories: "Crypto Category/Catagories",
            category_1: "Category 1",
            category_2: "Category 2",
            category_3: "Category 3",
            category_4: "Category 4",
            coin_goals: "The issue the Crypto solves / Aspects of coin",
            additional_differentiation: "Additional info arround the issue it solves / Differentiation with competitor",
            system_status: "System status",
            market_cap_usd: "Market Cap USD",
            internal_signature: "Internal Signature",
            num_cols_req_basic_update: "# Basic update req.",
            num_cols_req_expert_update: "# Expert update req.",
            mkt_cap_against_total_market_growth: "Market cap % of total market growth",
            avg_3mo_volume: "Average trading volume trailing 3 months",
            avg_3mo_mkt_cap: "Average market cap trailing 3 months",
            github_community: "GitHub community size",
            github_activity: "GitHub commit activity"
        })
        cb.constant("scoreReferences", {
            decentralized: {
                Communication: {
                    A1: ["slack_url", "telegram_url", "icq_handle"],
                    A2: ["contact_email", "contact_form_url"]
                },
                Social: {
                    B1: ["posting_frequently"],
                    B2: ["social_freq_facebook"],
                    B3: ["social_freq_twitter"],
                    B4: ["youtube_url"],
                    B5: ["social_freq_youtube"]
                },
                Team: [],
                Advisors: [],
                Buzz: {
                    E1: ["community_size"]
                },
                Product: {
                    F1: ["product_status"],
                    F2: ["open_source_bool"],
                    F3: ["product_roadmap_url"],
                    F4: ["roadmap_updated"],
                    F5: ["product_release_date"],
                    F6: ["whitepaper_url"]
                },
                Coin: {
                    G1: ["transactions_per_second"],
                    G2: ["token_emission_rate"],
                    G3: [
                        ["market", "avg_3mo_volume"]
                    ],
                    G4: [
                        ["market", "avg_3mo_mkt_cap"]
                    ],
                    G5: [
                        ["market", "mkt_cap_against_total_market_growth"]
                    ],
                    G6: ["ico_proceeds_founders_team"]
                },
                Business: [],
                GitHub: {
                    J1: [
                        ["github", "community"]
                    ],
                    J2: [
                        ["github", "activity"]
                    ]
                }
            },
            "centralized-hierarchical": {
                Communication: {
                    A1: ["slack_url", "telegram_url", "icq_handle"],
                    A2: ["contact_email", "contact_form_url"]
                },
                Social: {
                    B1: ["posting_frequently"],
                    B2: ["social_freq_facebook"],
                    B3: ["social_freq_twitter"],
                    B4: ["youtube_url"],
                    B5: ["social_freq_youtube"]
                },
                Team: {
                    C1: ["ceo_million_dollar_prior_engagement"],
                    C2: ["cto_million_dollar_prior_engagement"],
                    C3: ["ceo_years_c_level_experience"],
                    C4: ["cto_years_cto_experience"],
                    C5: ["team_qa_size"],
                    C6: ["team_mkt_sales_size"],
                    C7: ["team_age_avg"],
                    C8: ["team_size_total"]
                },
                Advisors: {
                    D1: ["team_has_advisors_bios_bool"],
                    D2: ["team_has_advisors_social_profiles_bool"],
                    D3: ["multiple_advisors_managed_multimillion_dollar_engagements"]
                },
                Buzz: {
                    E1: ["community_size"],
                    E2: [
                        ["github", "community"]
                    ]
                },
                Product: {
                    F1: ["product_status"],
                    F2: ["open_source_bool"],
                    F3: [
                        ["github", "activity"]
                    ],
                    F4: ["product_roadmap_url"],
                    F5: ["roadmap_updated"],
                    F6: ["product_release_date"],
                    F7: ["whitepaper_url"]
                },
                Coin: {
                    G1: ["transactions_per_second"],
                    G2: ["token_emission_rate"],
                    G3: [
                        ["market", "avg_3mo_volume"]
                    ],
                    G4: [
                        ["market", "avg_3mo_mkt_cap"]
                    ],
                    G5: [
                        ["market", "mkt_cap_against_total_market_growth"]
                    ],
                    G6: ["ico_proceeds_founders_team"]
                },
                Business: {
                    H1: ["company_publishes_financial_statements"],
                    H2: ["company_burn_rate"],
                    H3: ["company_gains_predictions"],
                    H4: ["company_explains_strategic_partnerships"],
                    H5: ["company_explains_advantage_over_competition"],
                    H6: ["company_presents_sales_mkt_plan"]
                },
                GitHub: []
            },
            "centralized-flat": {
                Communication: {
                    A1: ["slack_url", "telegram_url", "icq_handle"],
                    A2: ["contact_email", "contact_form_url"]
                },
                Social: {
                    B1: ["posting_frequently"],
                    B2: ["social_freq_facebook"],
                    B3: ["social_freq_twitter"],
                    B4: ["youtube_url"],
                    B5: ["social_freq_youtube"]
                },
                Team: {
                    C1: ["ceo_million_dollar_prior_engagement"],
                    C2: ["cto_million_dollar_prior_engagement"],
                    C3: ["ceo_years_c_level_experience"],
                    C4: ["cto_years_cto_experience"],
                    C5: ["team_qa_size"],
                    C6: ["team_mkt_sales_size"],
                    C7: ["team_age_avg"],
                    C8: ["team_size_total"]
                },
                Advisors: {
                    D1: ["team_has_advisors_bios_bool"],
                    D2: ["team_has_advisors_social_profiles_bool"],
                    D3: ["multiple_advisors_managed_multimillion_dollar_engagements"]
                },
                Buzz: {
                    E1: ["community_size"],
                    E2: [
                        ["github", "community"]
                    ]
                },
                Product: {
                    F1: ["product_status"],
                    F2: ["open_source_bool"],
                    F3: [
                        ["github", "activity"]
                    ],
                    F4: ["product_roadmap_url"],
                    F5: ["roadmap_updated"],
                    F6: ["product_release_date"],
                    F7: ["whitepaper_url"]
                },
                Coin: {
                    G1: ["transactions_per_second"],
                    G2: ["token_emission_rate"],
                    G3: [
                        ["market", "avg_3mo_volume"]
                    ],
                    G4: [
                        ["market", "avg_3mo_mkt_cap"]
                    ],
                    G5: [
                        ["market", "mkt_cap_against_total_market_growth"]
                    ],
                    G6: ["ico_proceeds_founders_team"]
                },
                Business: {
                    H1: ["company_publishes_financial_statements"],
                    H2: ["company_burn_rate"],
                    H3: ["company_gains_predictions"],
                    H4: ["company_explains_strategic_partnerships"],
                    H5: ["company_explains_advantage_over_competition"],
                    H6: ["company_presents_sales_mkt_plan"]
                },
                GitHub: []
            },
            "semi-centralized": {
                Communication: {
                    A1: ["slack_url", "telegram_url", "icq_handle"],
                    A2: ["contact_email", "contact_form_url"]
                },
                Social: {
                    B1: ["posting_frequently"],
                    B2: ["social_freq_facebook"],
                    B3: ["social_freq_twitter"],
                    B4: ["youtube_url"],
                    B5: ["social_freq_youtube"]
                },
                Team: {
                    C1: ["team_page_url"],
                    C2: ["members_listed_by_name_bool"],
                    C3: ["team_has_social_profiles_bool"],
                    C4: ["cto_name"],
                    C5: ["team_size_total"]
                },
                Advisors: {
                    D1: ["team_has_advisors_bios_bool"],
                    D2: ["team_has_advisors_social_profiles_bool"],
                    D3: ["multiple_advisors_managed_multimillion_dollar_engagements"]
                },
                Buzz: {
                    E1: ["community_size"]
                },
                Product: {
                    F1: ["product_status"],
                    F2: ["open_source_bool"],
                    F3: ["product_roadmap_url"],
                    F4: ["roadmap_updated"],
                    F5: ["product_release_date"],
                    F6: ["whitepaper_url"]
                },
                Coin: {
                    G1: ["transactions_per_second"],
                    G2: ["token_emission_rate"],
                    G3: [
                        ["market", "avg_3mo_volume"]
                    ],
                    G4: [
                        ["market", "avg_3mo_mkt_cap"]
                    ],
                    G5: [
                        ["market", "mkt_cap_against_total_market_growth"]
                    ],
                    G6: ["ico_proceeds_founders_team"]
                },
                Business: [],
                GitHub: {
                    J1: [
                        ["github", "community"]
                    ],
                    J2: [
                        ["github", "activity"]
                    ]
                }
            }
        })
        cb.constant("maxScores", {
            decentralized: {
                Communication: {
                    A1: 70,
                    A2: 30
                },
                Social: {
                    B1: 50,
                    B2: 20,
                    B3: 20,
                    B4: 5,
                    B5: 5
                },
                Team: [],
                Advisors: [],
                Buzz: {
                    E1: 100
                },
                Product: {
                    F1: 50,
                    F2: 20,
                    F3: 5,
                    F4: 5,
                    F5: 10,
                    F6: 10
                },
                Coin: {
                    G1: 8,
                    G2: 30,
                    G3: 17,
                    G4: 17,
                    G5: 13,
                    G6: 15
                },
                Business: [],
                GitHub: {
                    J1: 40,
                    J2: 60
                }
            },
            "centralized-hierarchical": {
                Communication: {
                    A1: 70,
                    A2: 30
                },
                Social: {
                    B1: 50,
                    B2: 20,
                    B3: 20,
                    B4: 5,
                    B5: 5
                },
                Team: {
                    C1: 10,
                    C2: 10,
                    C3: 15,
                    C4: 15,
                    C5: 10,
                    C6: 4,
                    C7: 8,
                    C8: 8
                },
                Advisors: {
                    D1: 25,
                    D2: 25,
                    D3: 50
                },
                Buzz: {
                    E1: 60,
                    E2: 40
                },
                Product: {
                    F1: 50,
                    F2: 10,
                    F3: 5,
                    F4: 10,
                    F5: 5,
                    F6: 10,
                    F7: 10
                },
                Coin: {
                    G1: 8,
                    G2: 30,
                    G3: 17,
                    G4: 17,
                    G5: 13,
                    G6: 15
                },
                Business: {
                    H1: 10,
                    H2: 10,
                    H3: 10,
                    H4: 20,
                    H5: 30,
                    H6: 20
                },
                GitHub: []
            },
            "centralized-flat": {
                Communication: {
                    A1: 70,
                    A2: 30
                },
                Social: {
                    B1: 50,
                    B2: 20,
                    B3: 20,
                    B4: 5,
                    B5: 5
                },
                Team: {
                    C1: 10,
                    C2: 10,
                    C3: 15,
                    C4: 15,
                    C5: 10,
                    C6: 4,
                    C7: 8,
                    C8: 8
                },
                Advisors: {
                    D1: 25,
                    D2: 25,
                    D3: 50
                },
                Buzz: {
                    E1: 60,
                    E2: 40
                },
                Product: {
                    F1: 50,
                    F2: 10,
                    F3: 5,
                    F4: 10,
                    F5: 5,
                    F6: 10,
                    F7: 10
                },
                Coin: {
                    G1: 8,
                    G2: 30,
                    G3: 17,
                    G4: 17,
                    G5: 13,
                    G6: 15
                },
                Business: {
                    H1: 10,
                    H2: 10,
                    H3: 10,
                    H4: 20,
                    H5: 30,
                    H6: 20
                },
                GitHub: []
            },
            "semi-centralized": {
                Communication: {
                    A1: 70,
                    A2: 30
                },
                Social: {
                    B1: 50,
                    B2: 20,
                    B3: 20,
                    B4: 5,
                    B5: 5
                },
                Team: {
                    C1: 20,
                    C2: 20,
                    C3: 20,
                    C4: 20,
                    C5: 20
                },
                Advisors: {
                    D1: 25,
                    D2: 25,
                    D3: 50
                },
                Buzz: {
                    E1: 100
                },
                Product: {
                    F1: 50,
                    F2: 10,
                    F3: 10,
                    F4: 10,
                    F5: 10,
                    F6: 10
                },
                Coin: {
                    G1: 8,
                    G2: 30,
                    G3: 17,
                    G4: 17,
                    G5: 13,
                    G6: 15
                },
                Business: [],
                GitHub: {
                    J1: 40,
                    J2: 60
                }
            }
        })
        cb.constant("coinScoreLabels", {
            "centralized-hierarchical": {
                Advisors: {
                    sectionTitle: "Advisors",
                    section: "Advisors",
                    items: {
                        D1: {
                            label: "Advisors have bios on the website",
                            description: "<div><strong>25</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        D2: {
                            label: "Advisors have social media links on the website",
                            description: "<div><strong>25</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        D3: {
                            label: "2+ advisors have managed multi million dollar companies",
                            description: "<div><strong>50</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        }
                    }
                },
                Business: {
                    sectionTitle: "Business",
                    section: "Business",
                    items: {
                        H1: {
                            label: "Financial statements published",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        H2: {
                            label: "Burn rate and costs published",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        H3: {
                            label: "Financial gains predictions published",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        H4: {
                            label: "Company has strategic partnerships",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        H5: {
                            label: "Company explains its advantages over competition",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        H6: {
                            label: "Company presents a sales/marketing plan",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        }
                    }
                },
                Buzz: {
                    sectionTitle: "Buzz",
                    section: "Buzz",
                    items: {
                        E1: {
                            label: "Total community size compared to other coins",
                            sublabel: "Facebook, Twitter, YouTube, Reddit",
                            description: "<div><strong>60</strong> <span>99th-percentile</span></div><div><strong>50</strong> <span>95th-percentile</span></div><div><strong>40</strong> <span>85th-percentile</span></div><div><strong>30</strong> <span>50th-percentile</span></div><div><strong>20</strong> <span>30th-percentile</span></div><div><strong>10</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        }
                    }
                },
                Coin: {
                    sectionTitle: "Coin strength",
                    section: 'Coin',
                    items: {
                        G1: {
                            label: "Transactions per second compared to other coins",
                            description: "<div><strong>8</strong> <span>95th-percentile</span></div><div><strong>6</strong> <span>75th-percentile</span></div><div><strong>4</strong> <span>50th-percentile</span></div><div><strong>2</strong> <span>30th-percentile</span></div><div><strong>1</strong> <span>15th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G2: {
                            label: 'What is their coin emission rate? Is the coin"s inflation under control?',
                            description: "<div><strong>30</strong> <span>No new tokens created</span></div><div><strong>30</strong> <span>Deflationary through token burning</span></div><div><strong>15</strong> <span>Emitted in proportion to amount of network activity</span></div><div><strong>15</strong> <span>2nd round might occur</span></div><div><strong>0</strong>  <span>Company can decide</span> </div>"
                        },
                        G3: {
                            label: "Is the coin among the top traded coins for the past 3 months in terms of transaction volumes?",
                            description: "<div><strong>17</strong> <span>99th-percentile</span></div><div><strong>16</strong> <span>95th-percentile</span></div><div><strong>14</strong> <span>85th-percentile</span></div><div><strong>10</strong> <span>50th-percentile</span></div><div><strong>7</strong> <span>30th-percentile</span></div><div><strong>4</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G4: {
                            label: "Is the coin among the top traded coins for the past 3 months in terms of market capitalization?",
                            description: "<div><strong>17</strong> <span>99th-percentile</span></div><div><strong>16</strong> <span>95th-percentile</span></div><div><strong>14</strong> <span>85th-percentile</span></div><div><strong>10</strong> <span>50th-percentile</span></div><div><strong>7</strong> <span>30th-percentile</span></div><div><strong>4</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G5: {
                            label: "Has the coin outperformed the rest of the market trend since it started trading?",
                            description: "<div><strong>13</strong> <span>99th-percentile</span></div><div><strong>12</strong> <span>95th-percentile</span></div><div><strong>10</strong> <span>85th-percentile</span></div><div><strong>5</strong> <span>50th-percentile</span></div><div><strong>3</strong> <span>30th-percentile</span></div><div><strong>2</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G6: {
                            label: "Does the founding team reserve a decent amount of coin to themselves?",
                            description: "<div><strong>15</strong> <span>0-5%</span></div><div><strong>10</strong> <span>5-10%</span></div><div><strong>5</strong> <span>10-20%</span></div><div><strong>2</strong> <span>0%</span></div><div><strong>0</strong> <span>20%+</span> </div>"
                        }
                    }
                },
                Communication: {
                    sectionTitle: "Communication",
                    section: "Communication",
                    items: {
                        A1: {
                            label: "Ability to contact the company via: Slack, Telegram or ICQ",
                            description: "<div><strong>70</strong> <span>ANY NOT EMPTY</span></div><div><strong>0</strong> <span>ALL EMPTY</span></div>"
                        },
                        A2: {
                            label: "Ability to contact the company via: Contact form or Email",
                            description: "<div><strong>30</strong> <span>ANY NOT EMPTY</span></div><div><strong>0</strong> <span>ALL EMPTY</span></div>"
                        }
                    }
                },
                GitHub: {
                    sectionTitle: "GitHub",
                    section: "GitHub",
                    items: {
                        J1: {
                            label: "Github community size compared to other coins",
                            sublabel: "Stars, Forks, Watchers",
                            description: "</div><div><strong>40</strong> <span>99th-percentile</span></div><div><strong>30</strong> <span>95th-percentile</span></div><div><strong>20</strong> <span>85th-percentile</span></div><div><strong>15</strong> <span>50th-percentile</span></div><div><strong>10</strong> <span>30th-percentile</span></div><div><strong>5</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        J2: {
                            label: "Github activity tempo",
                            sublabel: "Statistical mean of 4 week SMAs for commits over 49 weeks, compared to other coins",
                            description: "<div><strong>60</strong> <span>90th-percentile</span></div><div><strong>50</strong> <span>67th-percentile</span></div><div><strong>40</strong> <span>57th-percentile</span></div><div><strong>30</strong> <span>53rd-percentile</span></div><div><strong>20</strong> <span>40th-percentile</span></div><div><strong>10</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        }
                    }
                },
                Product: {
                    sectionTitle: "Product",
                    section: "Product",
                    items: {
                        F1: {
                            label: "Product development status (i.e. stage)",
                            description: "<div><strong>50</strong> <span>Fully working product</span></div><div><strong>40</strong> <span>Beta version</span></div><div><strong>30</strong> <span>Alpha version</span></div><div><strong>25</strong> <span>Prototype / MVP</span></div><div><strong>20</strong> <span>Demo only</span></div><div><strong>10</strong> <span>Just an Idea</span></div><div><strong>0</strong> <span>Unknown</span> </div>"
                        },
                        F2: {
                            label: "Have they open sourced their code?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F3: {
                            label: "Have they published a Product roadmap?",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F4: {
                            label: "Is their Product roadmap up to date?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F5: {
                            label: "Product age (Todayâ€™s date - Release date)",
                            description: "<div><strong>10</strong> <span> 5+ years</span></div><div><strong>8</strong>  <span>1+ years</span></div><div><strong>6</strong>  <span>6+ months</span></div><div><strong>4</strong>  <span> 3+ months</span></div><div><strong>2</strong>   <span>1+ months</span></div><div><strong>1</strong>  <span> < 1 month</span></div><div><strong>0</strong>  <span> future</span> </div>"
                        },
                        F6: {
                            label: "Have they published a Whitepaper?",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        }
                    }
                },
                Social: {
                    sectionTitle: "Social Media",
                    section: "Social",
                    items: {
                        B1: {
                            label: "Activity on Blog",
                            sublabel: "Are they posting every 10 days or less?",
                            description: "<div><strong>50</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B2: {
                            label: "Activity on Facebook",
                            sublabel: "Are they posting every 3 days or less?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B3: {
                            label: "Activity on Twitter",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B4: {
                            label: "Do they have a YouTube channel?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B5: {
                            label: "Activity on Youtube",
                            sublabel: "Are they posting every 7 days or less?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        }
                    }
                },
                Team: {
                    sectionTitle: "Team strength",
                    section: "Team",
                    items: {
                        C1: {
                            label: "Executive lead (CEO, COO, executive lead, founder, managing partner etc) who managed multi million dollar companies.",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        C2: {
                            label: "Tech lead who managed million dollar projects",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        C3: {
                            label: "Exec lead years of experience at executive level",
                            description: "<div><strong>15</strong> <span>10+ years</span></div><div><strong>8</strong> <span>3-10 years</span></div><div><strong>4</strong> <span>1-3 years</span></div><div><strong>0</strong> <span>0-1 years</span> </div>"
                        },
                        C4: {
                            label: "Tech lead years of experience as teach lead",
                            description: "<div><strong>15</strong> <span>10+ years</span></div><div><strong>7</strong> <span>3-10 years</span></div><div><strong>3</strong> <span>1-3 years</span></div><div><strong>0</strong> <span>0-1 years</span> </div>"
                        },
                        C5: {
                            label: "Has dedicated Quality Assurance members within the team",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        C6: {
                            label: "Sales/Marketing team size compared to other coins",
                            description: "<div><strong>10</strong> <span>90th percentile</span></div><div><strong>6</strong> <span>75th percentile</span></div><div><strong>4</strong> <span>50th percentile</span></div><div><strong>2</strong> <span>30th percentile</span></div><div><strong>0</strong> <span>other</span> </div>"
                        },
                        C7: {
                            label: "Average team member age",
                            description: "<div><strong>10</strong> <span>30+</span></div><div><strong>5</strong> <span>25-30</span></div><div><strong>2</strong> <span>20-25</span></div><div><strong>0</strong> <span>0</span> </div>"
                        },
                        C8: {
                            label: "Total team size compared to other coins",
                            description: "<div><strong>20</strong> <span>95th percentile</span></div><div><strong>18</strong> <span>90th percentile</span></div><div><strong>16</strong> <span>80th percentile</span></div><div><strong>14</strong> <span>50th percentile</span></div><div><strong>7</strong> <span>30th percentile</span></div><div><strong>4</strong> <span>10th percentile</span></div><div><strong>0</strong> <span>other</span> </div>"
                        }
                    }
                },
            },
            decentralized: {

                Buzz: {
                    sectionTitle: "Buzz",
                    section: "Buzz",
                    items: {
                        E1: {
                            label: "Total community size compared to other coins",
                            sublabel: "Facebook, Twitter, YouTube, Reddit",
                            description: "<div><strong>100</strong> <span>99th-percentile</span></div><div><strong>90</strong> <span>95th-percentile</span></div><div><strong>80</strong> <span>85th-percentile</span></div><div><strong>50</strong> <span>50th-percentile</span></div><div><strong>30</strong> <span>30th-percentile</span></div><div><strong>10</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        }
                    }
                },
                Coin: {
                    sectionTitle: "Coin strength",
                    section: 'Coin',
                    items: {
                        G1: {
                            label: "Transactions per second compared to other coins",
                            description: "<div><strong>8</strong> <span>95th-percentile</span></div><div><strong>6</strong> <span>75th-percentile</span></div><div><strong>4</strong> <span>50th-percentile</span></div><div><strong>2</strong> <span>30th-percentile</span></div><div><strong>1</strong> <span>15th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G2: {
                            label: 'What is their coin emission rate? Is the coin"s inflation under control?',
                            description: "<div><strong>30</strong> <span>No new tokens created</span></div><div><strong>30</strong> <span>Deflationary through token burning</span></div><div><strong>15</strong> <span>Emitted in proportion to amount of network activity</span></div><div><strong>15</strong> <span>2nd round might occur</span></div><div><strong>0</strong>  <span>Company can decide</span> </div>"
                        },
                        G3: {
                            label: "Is the coin among the top traded coins for the past 3 months in terms of transaction volumes?",
                            description: "<div><strong>17</strong> <span>99th-percentile</span></div><div><strong>16</strong> <span>95th-percentile</span></div><div><strong>14</strong> <span>85th-percentile</span></div><div><strong>10</strong> <span>50th-percentile</span></div><div><strong>7</strong> <span>30th-percentile</span></div><div><strong>4</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G4: {
                            label: "Is the coin among the top traded coins for the past 3 months in terms of market capitalization?",
                            description: "<div><strong>25</strong> <span>99th-percentile</span></div><div><strong>24</strong> <span>95th-percentile</span></div><div><strong>22</strong> <span>85th-percentile</span></div><div><strong>18</strong> <span>50th-percentile</span></div><div><strong>9</strong> <span>30th-percentile</span></div><div><strong>5</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G5: {
                            label: "Has the coin outperformed the rest of the market trend since it started trading?",
                            description: "<div><strong>20</strong> <span>99th-percentile</span></div><div><strong>18</strong> <span>95th-percentile</span></div><div><strong>16</strong> <span>85th-percentile</span></div><div><strong>8</strong> <span>50th-percentile</span></div><div><strong>6</strong> <span>30th-percentile</span></div><div><strong>4</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        }
                    }
                },
                Communication: {
                    sectionTitle: "Communication",
                    section: "Communication",
                    items: {
                        A1: {
                            label: "Ability to contact the company via: Slack, Telegram or ICQ",
                            description: "<div><strong>70</strong> <span>ANY NOT EMPTY</span></div><div><strong>0</strong> <span>ALL EMPTY</span></div>"
                        },
                        A2: {
                            label: "Ability to contact the company via: Contact form or Email",
                            description: "<div><strong>30</strong> <span>ANY NOT EMPTY</span></div><div><strong>0</strong> <span>ALL EMPTY</span></div>"
                        }
                    }
                },

                Product: {
                    sectionTitle: "Product",
                    section: "Product",
                    items: {
                        F1: {
                            label: "Product development status (i.e. stage)",
                            description: "<div><strong>50</strong> <span>Fully working product</span></div><div><strong>40</strong> <span>Beta version</span></div><div><strong>30</strong> <span>Alpha version</span></div><div><strong>25</strong> <span>Prototype / MVP</span></div><div><strong>20</strong> <span>Demo only</span></div><div><strong>10</strong> <span>Just an Idea</span></div><div><strong>0</strong> <span>Unknown</span> </div>"
                        },
                        F2: {
                            label: "Have they open sourced their code?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F3: {
                            label: "Have they published a Product roadmap?",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F4: {
                            label: "Is their Product roadmap up to date?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F5: {
                            label: "Product age (Todayâ€™s date - Release date)",
                            description: "<div><strong>10</strong> <span> 5+ years</span></div><div><strong>8</strong>  <span>1+ years</span></div><div><strong>6</strong>  <span>6+ months</span></div><div><strong>4</strong>  <span> 3+ months</span></div><div><strong>2</strong>   <span>1+ months</span></div><div><strong>1</strong>  <span> < 1 month</span></div><div><strong>0</strong>  <span> future</span> </div>"
                        },
                        F6: {
                            label: "Have they published a Whitepaper?",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        }
                    }
                },
                Social: {
                    sectionTitle: "Social Media",
                    section: "Social",
                    items: {
                        B1: {
                            label: "Activity on Blog",
                            sublabel: "Are they posting every 10 days or less?",
                            description: "<div><strong>50</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B2: {
                            label: "Activity on Facebook",
                            sublabel: "Are they posting every 3 days or less?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B3: {
                            label: "Activity on Twitter",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B4: {
                            label: "Do they have a YouTube channel?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B5: {
                            label: "Activity on Youtube",
                            sublabel: "Are they posting every 7 days or less?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        }
                    }
                },

            },
            "semi-centralized": {

                Advisors: {
                    sectionTitle: "Advisors",
                    section: "Advisors",
                    items: {
                        D1: {
                            label: "Advisors have bios on the website",
                            description: "<div><strong>25</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        D2: {
                            label: "Advisors have social media links on the website",
                            description: "<div><strong>25</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        },
                        D3: {
                            label: "2+ advisors have managed multi million dollar companies",
                            description: "<div><strong>50</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span> </div>"
                        }
                    }
                },
                Buzz: {
                    sectionTitle: "Buzz",
                    section: "Buzz",
                    items: {
                        E1: {
                            label: "Total community size compared to other coins",
                            sublabel: "Facebook, Twitter, YouTube, Reddit",
                            description: "<div><strong>100</strong> <span>99th-percentile</span></div><div><strong>90</strong> <span>95th-percentile</span></div><div><strong>80</strong> <span>85th-percentile</span></div><div><strong>50</strong> <span>50th-percentile</span></div><div><strong>30</strong> <span>30th-percentile</span></div><div><strong>10</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        }
                    }
                },
                Coin: {
                    sectionTitle: "Coin strength",
                    section: 'Coin',
                    items: {
                        G1: {
                            label: "Transactions per second compared to other coins",
                            description: "<div><strong>8</strong> <span>95th-percentile</span></div><div><strong>6</strong> <span>75th-percentile</span></div><div><strong>4</strong> <span>50th-percentile</span></div><div><strong>2</strong> <span>30th-percentile</span></div><div><strong>1</strong> <span>15th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G2: {
                            label: 'What is their coin emission rate? Is the coin"s inflation under control?',
                            description: "<div><strong>30</strong> <span>No new tokens created</span></div><div><strong>30</strong> <span>Deflationary through token burning</span></div><div><strong>15</strong> <span>Emitted in proportion to amount of network activity</span></div><div><strong>15</strong> <span>2nd round might occur</span></div><div><strong>0</strong>  <span>Company can decide</span> </div>"
                        },
                        G3: {
                            label: "Is the coin among the top traded coins for the past 3 months in terms of transaction volumes?",
                            description: "<div><strong>17</strong> <span>99th-percentile</span></div><div><strong>16</strong> <span>95th-percentile</span></div><div><strong>14</strong> <span>85th-percentile</span></div><div><strong>10</strong> <span>50th-percentile</span></div><div><strong>7</strong> <span>30th-percentile</span></div><div><strong>4</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G4: {
                            label: "Is the coin among the top traded coins for the past 3 months in terms of market capitalization?",
                            description: "<div><strong>25</strong> <span>99th-percentile</span></div><div><strong>24</strong> <span>95th-percentile</span></div><div><strong>22</strong> <span>85th-percentile</span></div><div><strong>18</strong> <span>50th-percentile</span></div><div><strong>9</strong> <span>30th-percentile</span></div><div><strong>5</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        },
                        G5: {
                            label: "Has the coin outperformed the rest of the market trend since it started trading?",
                            description: "<div><strong>20</strong> <span>99th-percentile</span></div><div><strong>18</strong> <span>95th-percentile</span></div><div><strong>16</strong> <span>85th-percentile</span></div><div><strong>8</strong> <span>50th-percentile</span></div><div><strong>6</strong> <span>30th-percentile</span></div><div><strong>4</strong><span> 10th-percentile</span></div><div><strong>0</strong> <span>0-10th percentile</span> </div>"
                        }
                    }
                },
                Communication: {
                    sectionTitle: "Communication",
                    section: "Communication",
                    items: {
                        A1: {
                            label: "Ability to contact the company via: Slack, Telegram or ICQ",
                            description: "<div><strong>70</strong> <span>ANY NOT EMPTY</span></div><div><strong>0</strong> <span>ALL EMPTY</span></div>"
                        },
                        A2: {
                            label: "Ability to contact the company via: Contact form or Email",
                            description: "<div><strong>30</strong> <span>ANY NOT EMPTY</span></div><div><strong>0</strong> <span>ALL EMPTY</span></div>"
                        }
                    }
                },

                Product: {
                    sectionTitle: "Product",
                    section: "Product",
                    items: {
                        F1: {
                            label: "Product development status (i.e. stage)",
                            description: "<div><strong>50</strong> <span>Fully working product</span></div><div><strong>40</strong> <span>Beta version</span></div><div><strong>30</strong> <span>Alpha version</span></div><div><strong>25</strong> <span>Prototype / MVP</span></div><div><strong>20</strong> <span>Demo only</span></div><div><strong>10</strong> <span>Just an Idea</span></div><div><strong>0</strong> <span>Unknown</span> </div>"
                        },
                        F2: {
                            label: "Have they open sourced their code?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F3: {
                            label: "Have they published a Product roadmap?",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F4: {
                            label: "Is their Product roadmap up to date?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        },
                        F5: {
                            label: "Product age (Todayâ€™s date - Release date)",
                            description: "<div><strong>10</strong> <span> 5+ years</span></div><div><strong>8</strong>  <span>1+ years</span></div><div><strong>6</strong>  <span>6+ months</span></div><div><strong>4</strong>  <span> 3+ months</span></div><div><strong>2</strong>   <span>1+ months</span></div><div><strong>1</strong>  <span> < 1 month</span></div><div><strong>0</strong>  <span> future</span> </div>"
                        },
                        F6: {
                            label: "Have they published a Whitepaper?",
                            description: "<div><strong>10</strong> <span>YES</span></div><div><strong>0</strong>  <span>NO</span> </div>"
                        }
                    }
                },
                Social: {
                    sectionTitle: "Social Media",
                    section: "Social",
                    items: {
                        B1: {
                            label: "Activity on Blog",
                            sublabel: "Are they posting every 10 days or less?",
                            description: "<div><strong>50</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B2: {
                            label: "Activity on Facebook",
                            sublabel: "Are they posting every 3 days or less?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B3: {
                            label: "Activity on Twitter",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B4: {
                            label: "Do they have a YouTube channel?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        B5: {
                            label: "Activity on Youtube",
                            sublabel: "Are they posting every 7 days or less?",
                            description: "<div><strong>5</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        }
                    }
                },
                Team: {
                    sectionTitle: "Team strength",
                    section: "Team",
                    items: {
                        C1: {
                            label: "Is there a link to the team/foundation page?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        C2: {
                            label: "Are team/foundation members nominally listed on the page?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        C3: {
                            label: "Do they have links to their linkedin/github profiles?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        C4: {
                            label: "Is there a tech lead for the project?",
                            description: "<div><strong>20</strong> <span>YES</span></div><div><strong>0</strong> <span>NO</span></div>"
                        },
                        C5: {
                            label: "Total team size compared to other coins",
                            description: "<div><strong>20</strong> <span>95th percentile</span></div><div><strong>18</strong> <span>90th percentile</span></div><div><strong>16</strong> <span>80th percentile</span></div><div><strong>14</strong> <span>50th percentile</span></div><div><strong>7</strong> <span>30th percentile</span></div><div><strong>4</strong> <span>10th percentile</span></div><div><strong>0</strong> <span>other</span> </div>"
                        }
                    }
                },


            }
        })

        cb.directive("ngTap", [function () {
            return function (scope, elem, attrs) {
                var touchmoved;
                elem.on('touchend', function (e) {
                    if (touchmoved != true) {
                        scope.$apply(attrs["ngTap"]);
                    }
                }).on('touchmove', function (e) {
                    touchmoved = true;
                }).on('touchstart', function () {
                    touchmoved = false;
                });

            }
        }])
        cb.controller('mainCtrl', function ($scope, $http, $interval, $sce) {
            $scope.ticker = [];
            $scope.global = {};
            $scope.state = {
                isLoaded: false
            };
            refreshTicker();
            $scope.tickerState = {
                conversion: 'USD'
            }
            $scope.customFilters = {
                name: ""
            }
            $scope.advancedFiltering = {
                enabled: false,
                filters: [{
                    property: '',
                    operator: '=',
                    value: ''
                }],
                filterProperties: [
                    { value: 'PriceUsd', text: 'Price USD' }, 
                    { value: 'MarketCapUsd', text: 'Market Cap' }, 
                    { value: 'Volume24hUsd', text: 'Volume' }, 
                    { value: 'ATH', text: 'ATH' }, 
                    { value: 'LastATH', text: 'Last ATH'}, 
                    { value: 'PercentChange1h', text: 'Change (1h)' }, 
                    { value: 'PercentChange24h', text: 'Change (24h)' }, 
                    { value: 'PercentChange7d', text: 'Change (1w)' }, 
                    { value: 'DaysOld', text: 'Age (days)' }, 
                    { value: 'Score', text: 'Rating' }],
                filterOperator: ['=', 
                    '<', '>', 'contains']
            };
            
            $scope.addAdvancedFilter = function () {
                $scope.advancedFiltering.filters.push({
                    property: '',
                    operator: '='
                })
            }
            $scope.removeAdvancedFilter = function (i) { 
                $scope.advancedFiltering.filters.splice(i, 1);      
            }
            $scope.removeAllAdvancedFilters = function () {
                $scope.advancedFiltering.filters = [{
                    property: '',
                    operator: '=',
                    value: ''
                }]
            }
            $scope.customFilterFn = function (item) {
                var passedAdvancedFilters = true;

                if ($scope.advancedFiltering.filters && $scope.advancedFiltering.filters.length && $scope.advancedFiltering.filters[0].property.length && $scope.advancedFiltering.filters[0].value.length) {

                    $scope.advancedFiltering.filters.map(function (filter) {
                        if (filter.property && filter.property.length && filter.value && filter.value.length) {
                            switch (filter.operator) {
                                case '=':
                                    if (item[filter.property] !== filter.value) {
                                        passedAdvancedFilters = false;
                                    } 
                                    break;
                                case '>':
                                    if (!item[filter.property] || parseFloat(item[filter.property]) <= parseFloat(filter.value)) {
                                        passedAdvancedFilters = false;
                                    } 
                                    break;
                                case '<':
                                    if (!item[filter.property] || parseFloat(item[filter.property]) >= parseFloat(filter.value)) {
                                        passedAdvancedFilters = false;
                                    } 
                                    break;
                                case 'contains':
                                    if (item[filter.property].toLowerCase().indexOf(filter.value.toLowerCase()) === -1 ) {
                                        passedAdvancedFilters = false;
                                    } 
                                    break; 
                            }
                        }
                });

                }
                if (passedAdvancedFilters && $scope.customFilters.name == "") {
                    return item;
                }
                else if (
                    passedAdvancedFilters &&
                    (
                    item.Name.toLowerCase().indexOf($scope.customFilters.name.toLowerCase()) > -1 || 
                    item.Symbol.toLowerCase().indexOf($scope.customFilters.name.toLowerCase()) > -1 ||
                    item.Id.toLowerCase().indexOf($scope.customFilters.name.toLowerCase()) > -1
                )) {
                    return true; 
                } else {
                    return false; 
                }
            }
            $scope.daysToYMD = function humanise(days) {
                if (!days)
                    return '';
                else if (days > 5000)
                    return 'Unknown';
                // The string we're working with to create the representation
                var str = '';
                // Map lengths of `days` to  time periods
                //var values = [['y', 365], ['m', 30], ['d', 1]];
                var values = [['<span class="age-label year">Y</span>', 365], ['<span class="age-label month">M</span>', 30], ['<span class="age-label day">D</span>', 1]];
                var prevAmount = 0;


                // Iterate over the values...
                for (var i = 0; i < values.length; i++) {
                    var amount = Math.floor(days / values[i][1]);
                    var val = amount.toString();
                    var c = "age-value";
                    // ... and find the largest time value that fits into the days
                    if ((i === 0 && amount === 0) || (i === 1 && prevAmount === 0 && amount === 0)) {
                        val = '--';
                        c = "age-value null"
                    }
                         // If we match, add to the string ('s' is for pluralization)
                    str += values[i][0] + '<span class="' + c + '">' + val + '</span>';

                         // and subtract from the days
                        days -= amount * values[i][1];

                        prevAmount = amount;
                }

                return $sce.trustAsHtml(str);
            };
            $interval(function () {
                refreshTicker();
            }, 30000);
            $scope.goTo = function (url) {
                window.location = url;
            };
            $scope.urlFriendly = function (name) {
                return name.toLowerCase().replace(/ /g, '-');
            }
            $scope.isDefaultDate = function (d) {
                return d === new Date('Jan 18, 1970')
            };
            $scope.scores = {};
            $scope.filters = {
                coinFilter: ''
            };

            $scope.abbreviateNumber = function (num, fixed) {
                if (num === null) { return null; } // terminate early
                if (num === 0) { return '0'; } // terminate early
                fixed = (!fixed || fixed < 0) ? 0 : fixed; // number of decimal places to show
                var b = (num).toPrecision(2).split("e"), // get power
                    k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3), // floor at decimals, ceiling at trillions
                    c = k < 1 ? num.toFixed(0 + fixed) : (num / Math.pow(10, k * 3)).toFixed(1 + fixed), // divide by power
                    d = c < 0 ? c : Math.abs(c), // enforce -0 is 0
                    e = d + ['', ' K', ' M', ' B', ' T'][k]; // append power
                return e;
            }
            $http.get('/api/getcoinscores').then(function (response) {
                $scope.scores = response.data;
                if ($scope.ticker.length) {
                    $scope.ticker.map(function (coin) {
                        if ($scope.scores.hasOwnProperty(coin.Id)) {
                            coin.Score = $scope.scores[coin.Id].Overall;
                        }
                    })
                }

            }, function () {

                });

            function refreshTicker() {
                $http.get('/api/getticker').then(
                    function (response) {
                        $scope.state.isLoaded = true;
                        $scope.ticker = response.data;


                        if (Object.keys($scope.scores).length) {
                            $scope.ticker.map(function (coin) {
                                if ($scope.scores.hasOwnProperty(coin.Id)) {
                                    coin.Score = $scope.scores[coin.Id].Overall;
                                }
                            })
                        }
                    },
                    function (err) {
                        $scope.state.isLoaded = true;
                        console.log(err)
                    }
                );
            }

            $http.get('/api/getglobalstats').then(
                function (response) {
                    $scope.global = response.data;
                },
                function () {

                }
            );

        });

        cb.controller('homeCtrl', function ($scope, $http, $interval) {

        });
        cb.filter("NAToUpper", ["$filter", function (e) {
            return function (e, t) {
                return typeof e === 'undefined' || (e = String(e)), e === 'undefined'|| !e.length || "n/a" == e.toLowerCase() ? "N/A" : e
            }
        }])
        cb.controller('currencyCtrl', function ($scope, $http, $interval, $routeParams, $sce, $q, $timeout, coinScoreLabels, maxScores, scoreReferences, $filter, fieldLabels) {

            
            $scope.$parent.state.isLoaded = false;

            $scope.id = $routeParams.id;

            $scope.symbol = $routeParams.symbol;
         
            
               
                    
            
 
           

            $scope.meta = {};

            $scope.coin = {};

            $scope.showAllGeneralInfo = false;

            $scope.coinScoreLabels = null;

            $scope.toggleGeneralInfo = function () {
                $scope.showAllGeneralInfo = !$scope.showAllGeneralInfo;
            }

            $scope.bottomTabs = {
                panel: 'charts'
            };

            $scope.chartData = {
                minutes:[],
                hours: [],
                days: []
            };
            getCoinScoreDetails();
            $scope.config = {
                stockChart: $timeout(function () {
                    return {
                        type: "stock",
                        categoryAxesSettings: {
                            minPeriod: "mm"
                        },
                        dataSets: [{
                            title: $scope.symbol.toUpperCase() + ' 1 Day',
                            fieldMappings: [{
                                fromField: "open",
                                toField: "open"
                            }, {
                                fromField: "close",
                                toField: "close"
                            }, {
                                fromField: "high",
                                toField: "high"
                            }, {
                                fromField: "low",
                                toField: "low"
                            }, {
                                fromField: "volume",
                                toField: "volume"
                            }],

                            color: "#7f8da9",
                            dataProvider: $scope.chartData.days,

                            categoryField: "date"
                        },
                            {
                                title: $scope.symbol.toUpperCase() + ' 1 hour',
                            fieldMappings: [{
                                fromField: "open",
                                toField: "open"
                            }, {
                                fromField: "close",
                                toField: "close"
                            }, {
                                fromField: "high",
                                toField: "high"
                            }, {
                                fromField: "low",
                                toField: "low"
                            }, {
                                fromField: "volume",
                                toField: "volume"
                            }],

                            color: "#7f8da9",
                            dataProvider: $scope.chartData.hours,

                            categoryField: "date"
                            }, {
                                title: $scope.symbol.toUpperCase() + ' 1 Minute',
                                fieldMappings: [{
                                    fromField: "open",
                                    toField: "open"
                                }, {
                                    fromField: "close",
                                    toField: "close"
                                }, {
                                    fromField: "high",
                                    toField: "high"
                                }, {
                                    fromField: "low",
                                    toField: "low"
                                }, {
                                    fromField: "volume",
                                    toField: "volume"
                                }],

                                color: "#7f8da9",
                                dataProvider: $scope.chartData.minutes,
                                categoryField: "date"
                            }
                            ],

                        panels: [{
                            title: "Value",
                            showCategoryAxis: false,
                            percentHeight: 70,
                            valueAxes: [{
                                id: "v1",
                                dashLength: 0,
                                axisColor: '#323c45',
                                color: '#9ea694',
                                gridColor: '#323c45',
                                position: "right"
                            }],

                            categoryAxis: {
                                dashLength: 0,
                                color: '#9ea694',
                                gridAlpha: 0
                            },

                            stockGraphs: [{
                                type: "candlestick",
                                id: "g1",
                                openField: "open",
                                closeField: "close",
                                highField: "high",
                                lowField: "low",
                                valueField: "close",
                                lineColor: "#9EFF20",
                                fillColors: "#9EFF20",
                                negativeLineColor: "#ff207d",
                                negativeFillColors: "#ff207d",
                                fillAlphas: 1,
                                useDataSetColors: false,
                                comparable: false,
                                compareField: "value",
                                showBalloon: false
                            }],

                            stockLegend: {
                                valueTextRegular: undefined,
                                periodValueTextComparing: "[[percents.value.close]]%",
                                color: '#9ea694',
                            }
                        },

                        {
                            title: "Volume",
                            percentHeight: 30,
                            marginTop: 1,
                            showCategoryAxis: true,
                            valueAxes: [{
                                id: "v2",
                                dashLength: 0,
                                axisColor: '#323c45',
                                color: '#9ea694',
                                gridColor: '#1b1b1b',
                                position: "right"
                            }],

                            categoryAxis: {
                                dashLength: 0,
                                color: '#9ea694',
                                gridAlpha: 0
                            },

                            stockGraphs: [{
                                valueField: "volume",
                                type: "column",
                                showBalloon: false,
                                fillAlphas: 1,
                                lineColor: "#21ebff",
                                fillColors: "#21ebff"
                            }],

                            stockLegend: {
                                markerType: "none",
                                color: '#9ea694',
                                markerSize: 0,
                                labelText: "",
                                periodValueTextRegular: "[[value.close]]"
                            }
                        }
                        ],

                        chartCursorSettings: {
                            valueLineEnabled: true,
                            valueLineBalloonEnabled: true,
                            cursorColor: '#9ea694',
                            categoryBalloonColor: '#9ea694',
                            categoryBalloonAlpha: 0.25,
                            valueLineAlpha: 0.25,
                            cursorAlpha: 0.25,
                            pan: true
                        },


                        chartScrollbarSettings: {
                            graph: "g1",
                            graphType: "line",
                            usePeriod: "WW",
                            updateOnReleaseOnly: false,
                            backgroundColor: '#0d1013',
                            graphFillColor: '#323c45',
                            graphLineAlpha: 0.25,
                            gridColor: '#1b1b1b',
                            selectedBackgroundColor: '#1FECFF',
                            selectedBackgroundAlpha: '0.1'
                        },
                        dataSetSelector: {
                            position: 'top',
                            selectText: '',
                            compareText: ''
                        },
                        periodSelector: {
                            position: "bottom",
                            periods: [{
                                period: "DD",
                                count: 10,
                                label: "10 days"
                            }, {
                                period: "MM",
                                selected: true,
                                count: 1,
                                label: "1 month"
                            }, {
                                period: "YYYY",
                                count: 1,
                                label: "1 year"
                            }, {
                                period: "YTD",
                                label: "YTD"
                            }, {
                                period: "MAX",
                                label: "MAX"
                            }]
                        }
                    }
                },3000)
            };

            var _metaLoaded = false;
            var _infoLoaded = false;

            $scope.tabs = {
                panel: 'general'
            };

            $scope.tabs.panel = 'general';

            $scope.urlFriendly = function (name) {
                if (!name)
                    return '';
                return name.toLowerCase().replace(/ /g, '-');
            }

            $scope.getAge = function (startDate) {
                if (!startDate)
                    return '';

                var today = new Date();

                var start = new Date(startDate);


                var monthsOld = diff_months(today, start);
                if (monthsOld < 12)
                    return monthsOld + ' Months';
                else if (monthsOld < 24)
                    return '1 Year and ' + (monthsOld % 12) + ' Months';
                else
                    return Math.floor(monthsOld / 12) + ' Years and ' + (monthsOld % 12) + ' Months';
            }

            function diff_months(dt2, dt1) {

                var diff = (dt2.getTime() - dt1.getTime()) / 1000;
                diff /= (60 * 60 * 24 * 7 * 4);
                return Math.abs(Math.round(diff));

            }
            getMetadata();

            $scope.resize_tweet = resize_canvas;
            function initSentiment() {
                init_tweet();				// Initialize scatterplot
                init_progress_dlg();			// Initialize progress dialog
                draw_legend();			// Draw sentiment tab's legend
                draw_tweet();				// Draw sentiment tab's axes

                query_twitter_v_1_1($scope.symbol + ' ' + $scope.id, 15);
            }

            $scope.getExchangeData = function (){
                $http.get('/api/getexchangedata?symbol=' + $scope.symbol + '&id=' + $scope.id + '&exchanges=' + $scope.exchanges.join(';') ).then(function (response) {
                    console.log(response);
                }, function () {

                })

            }

            $scope.scoreDetails = {};
            $scope.allWhys = !1,
            $scope.toggleAllWhys = function () {
                $scope.allWhys = !$scope.allWhys;

                for(var property in $scope.coinScoreLabels) {
                    for (var prop in $scope.coinScoreLabels[property].items) {
                        $scope.coinScoreLabels[property].items[prop].expanded = $scope.allWhys;
                    }
                }
            }
            function getCoinScoreDetails() {
                $http.get('/api/getcoinscoredetails?name=' + $scope.id).then(function (response) {
                    var governanceType = '';
                    $scope.scoreDetails = response.data;

                    switch ($scope.scoreDetails.Research.governance) {
                        case "Decentralized":
                            governanceType = "decentralized";
                            break;
                        case "Centralized > Hierarchical":
                            governanceType = "centralized-hierarchical";
                            break;
                        case "Centralized > Flat":
                            governanceType = "centralized-hierarchical";
                            break;
                        case "Semi-centralized":
                            governanceType = "semi-centralized"
                    }

                    $scope.coinScoreLabels = coinScoreLabels[governanceType];


                    for (var property in $scope.coinScoreLabels) {
                        var labelCategory = $scope.coinScoreLabels[property];

                        labelCategory.sectionScore = $scope.scoreDetails.Overall[property];

                        for (var prop in $scope.coinScoreLabels[property].items) {
                            var item = labelCategory.items[prop];


                            item.maxScore = maxScores[governanceType][property][prop];
                            item.score = typeof $scope.scoreDetails[property][prop] === "undefined" ? 0 : $scope.scoreDetails[property][prop];
                            item.scoreMethodology = item.description;
                            item.scoreRefs = [];

                            if (scoreReferences[governanceType][property].hasOwnProperty(prop)) {
                                scoreReferences[governanceType][property][prop].map(function (ref) {
                                    if (Array.isArray(ref)) {
                                        item.scoreRefs.push({
                                            data: $filter("NAToUpper")($scope.scoreDetails[ref[0]][ref[1]]),
                                            label: typeof fieldLabels[ref[1]] === "undefined" ? fieldLabels[ref[0] + "_" + ref[1]] : fieldLabels[ref[1]]
                                        })
                                    }
                                    else {
                                        item.scoreRefs.push({
                                            data: $filter("NAToUpper")($scope.scoreDetails.Research[ref]),
                                            label: fieldLabels[ref]
                                        })
                                    }

                                });
                            }

                        }
                    }


                }, function () { });
            }
            $scope.tradingViewChart = null;
            $scope.tradingViewSucceeded = null;
            function getMetadata() {

                $http.get('/api/getcoinmeta?symbol=' + $scope.symbol + '&id=' + $scope.id).then(
                    function (response) {

                        if (!response.data)
                            return;

                        $scope.meta = response.data.Metadata;
                        $scope.coin = response.data.Details;
                        $scope.socialStats = response.data.SocialStats;
                        $scope.exchanges = response.data.Exchanges;

                        if (response.data.CandleData) {
                            response.data.CandleData.Minute.map(function (d) {
                                d.date = new Date(d.date);
                            })
                            response.data.CandleData.Hour.map(function (d) {
                                d.date = new Date(d.date);
                            })
                            response.data.CandleData.Day.map(function (d) {
                                d.date = new Date(d.date);
                            })



                            $scope.chartData.minutes = response.data.CandleData.Minute;
                            $scope.chartData.hours = response.data.CandleData.Hour;
                            $scope.chartData.days = response.data.CandleData.Day;
                        }
                        $scope.CandleData = response.data.CandleData;
                        if ($scope.meta) {


                        $scope.meta.Technology = $sce.trustAsHtml($scope.meta.Technology);
                        $scope.meta.Features = $sce.trustAsHtml($scope.meta.Features);
                        $scope.meta.Description = $sce.trustAsHtml($scope.meta.Description);
                        $scope.meta.ICO.Description = $sce.trustAsHtml($scope.meta.ICO.Description);
                        $scope.meta.ICO.Blog = $sce.trustAsHtml($scope.meta.ICO.Blog);
                        $scope.meta.Website = $sce.trustAsHtml($scope.meta.Website);
                        $scope.meta.ICO.Website = $sce.trustAsHtml($scope.meta.ICO.Website);
                        $scope.meta.ICO.WhitePaper = $sce.trustAsHtml($scope.meta.ICO.WhitePaper);
                        }
                        $scope.$parent.state.isLoaded = true;

                        window.addEventListener("message", function (data) {
                            if (data.data.indexOf('widgetReady') > -1) {
                                $scope.tradingViewSucceeded = true;
                            }
                        }, false);

                       var topLevelSymbols = ['BTC', 'ETH', 'LTC', 'ETC']
                        

                        $timeout(function () {
                            $scope.tradingViewChart = new TradingView.widget(
                                {
                                    "autosize": true,
                                    "symbol": topLevelSymbols.indexOf($scope.symbol.toUpperCase()) ? $scope.symbol.toUpperCase() + "USD" : $scope.symbol.toUpperCase() + "BTC",
                                    "interval": "240",
                                    "timezone": "Etc/UTC",
                                    "theme": "Dark",
                                    "style": "1",
                                    "locale": "en",
                                    "toolbar_bg": "rgba(0, 0, 0, 1)",
                                    "enable_publishing": false,
                                    "hideideas": true,
                                    "container_id": "main-chart"
                                });
                             
                        }, 100)

                        $timeout(function () {
                                initSentiment();
                              
                        }, 1000);
                        $timeout(function () {
                            if ($scope.tradingViewSucceeded === null)
                                $scope.tradingViewSucceeded = false;
                        }, 3000)
                    },
                    function (msg) {
                        $scope.$parent.state.isLoaded = true;
                    }
                );

            }

        });

        cb.config(function ($routeProvider, $locationProvider) {
            $locationProvider.hashPrefix('');
            $routeProvider
                .when("/", {
                    templateUrl: "/Content/angular-templates/main.html",
                    controller: 'homeCtrl'
                })
                .when("/currency/:id/:symbol", {
                    templateUrl: "/Content/angular-templates/currency.html",
                    controller: 'currencyCtrl'
                })

        });
    </script>
</body>
</html>
